<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏Å‡∏ô‡∏ô‡∏≥‡∏´‡∏°‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600&family=Sarabun:wght@300;400;500;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Tesseract.js for OCR (async load) -->
    <script src="https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js" async defer></script>
</head>

<body>

    <div class="background-shapes">
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
        <div class="shape shape-3"></div>
    </div>

    <div class="container">
        <header>
            <h1><i class="fa-solid fa-users-viewfinder"></i> ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏Å‡∏ô‡∏ô‡∏≥</h1>
            <p>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö</p>
        </header>

        <!-- Camera Section -->
        <div class="camera-section">
            <label
                style="display: block; margin-bottom: 8px; color: #1e293b; font-weight: 500; font-size: 15px; text-align: left;">
                <i class="fa-solid fa-id-card"></i> ‡∏£‡∏π‡∏õ‡∏ñ‡πà‡∏≤‡∏¢‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô
            </label>
            <button type="button" id="openCameraBtn" class="scan-btn">
                <i class="fa-solid fa-camera"></i> üì∏ ‡∏™‡πÅ‡∏Å‡∏ô‡∏ö‡∏±‡∏ï‡∏£‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏•‡πâ‡∏≠‡∏á (‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)
            </button>
            <div id="preview-container" style="display:none; margin-top: 15px; text-align: center;">
                <img id="preview-image" src="" alt="Captured ID"
                    style="max-width: 100%; border-radius: 12px; border: 2px solid #4f46e5;">

                <!-- OCR Progress -->
                <div id="ocr-progress"
                    style="display:none; margin-top: 15px; padding: 15px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 12px; color: white;">
                    <i class="fa-solid fa-spinner fa-spin"></i>
                    <span id="ocr-status">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πÅ‡∏Å‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≤‡∏Å‡∏ö‡∏±‡∏ï‡∏£...</span>
                    <div style="margin-top: 8px; font-size: 13px;" id="ocr-percentage">0%</div>
                </div>

                <!-- Scanned Text Display -->
                <div id="scanned-text-container"
                    style="display:none; margin-top: 15px; padding: 15px; background: #f0fdf4; border: 2px solid #22c55e; border-radius: 12px; text-align: left;">
                    <h4 style="margin: 0 0 10px 0; color: #15803d; font-size: 14px;">
                        <i class="fa-solid fa-check-circle"></i> ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏™‡πÅ‡∏Å‡∏ô‡πÑ‡∏î‡πâ:
                    </h4>
                    <pre id="scanned-text"
                        style="margin: 0; font-size: 13px; color: #166534; white-space: pre-wrap; font-family: 'Sarabun', sans-serif;"></pre>
                </div>

                <button type="button" id="retakeBtn" class="retake-btn"><i class="fa-solid fa-rotate-right"></i>
                    ‡∏ñ‡πà‡∏≤‡∏¢‡πÉ‡∏´‡∏°‡πà</button>
            </div>
            <p id="file-status" class="file-status-text"></p>
        </div>

        <form id="dataForm" name="submit-to-google-sheet">

            <div class="form-group">
                <label for="leader_id"><i class="fa-solid fa-id-card"></i> ‡∏£‡∏´‡∏±‡∏™‡πÅ‡∏Å‡∏ô‡∏ô‡∏≥</label>
                <input type="text" id="leader_id" name="leader_id" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏´‡∏±‡∏™‡πÅ‡∏Å‡∏ô‡∏ô‡∏≥" required>
            </div>

            <div class="form-group">
                <label for="national_id"><i class="fa-solid fa-address-card"></i> ‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô</label>
                <input type="text" id="national_id" name="national_id" placeholder="‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô 13 ‡∏´‡∏•‡∏±‡∏Å" required
                    pattern="\d{13}" maxlength="13" title="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô 13 ‡∏´‡∏•‡∏±‡∏Å">
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="district"><i class="fa-solid fa-map-location-dot"></i> ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠</label>
                    <select id="district" name="district" required>
                        <option value="" disabled selected>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≥‡πÄ‡∏†‡∏≠</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="sub_district"><i class="fa-solid fa-map"></i> ‡∏ï‡∏≥‡∏ö‡∏•</label>
                    <select id="sub_district" name="sub_district" required disabled>
                        <option value="" disabled selected>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡∏Å‡πà‡∏≠‡∏ô</option>
                    </select>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="village_moo"><i class="fa-solid fa-house-flag"></i> ‡∏´‡∏°‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô (‡∏´‡∏°‡∏π‡πà‡∏ó‡∏µ‡πà)</label>
                    <input type="number" id="village_moo" name="village_moo" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏•‡∏Ç‡∏´‡∏°‡∏π‡πà" required>
                </div>
                <div class="form-group">
                    <label for="house_number"><i class="fa-solid fa-house"></i> ‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà</label>
                    <input type="text" id="house_number" name="house_number" placeholder="‡πÄ‡∏ä‡πà‡∏ô 123/4" required>
                </div>
            </div>

            <div class="form-group">
                <label for="fullname"><i class="fa-solid fa-user"></i> ‡∏ä‡∏∑‡πà‡∏≠ - ‡∏™‡∏Å‡∏∏‡∏•</label>
                <input type="text" id="fullname" name="fullname" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏•‡∏∞‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•" required>
            </div>

            <div class="form-group">
                <label for="voters_count"><i class="fa-solid fa-person-booth"></i> ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå (‡πÉ‡∏ô‡∏ö‡πâ‡∏≤‡∏ô)</label>
                <input type="number" id="voters_count" name="voters_count" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏ô" required min="0">
            </div>

            <div class="form-actions">
                <button type="submit" id="submitBtn">
                    <span class="btn-text">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</span>
                    <i class="fa-solid fa-paper-plane"></i>
                    <div class="loader" id="loader"></div>
                </button>
            </div>

            <p id="status-message" class="status-message"></p>

            <div class="share-section"
                style="margin-top: 30px; text-align: center; border-top: 1px solid rgba(0,0,0,0.1); padding-top: 20px;">
                <p style="margin-bottom: 10px; color: #64748b; font-size: 14px;">‡πÅ‡∏ä‡∏£‡πå‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏ô‡∏µ‡πâ‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡∏≠‡∏∑‡πà‡∏ô</p>
                <a href="https://social-plugins.line.me/lineit/share?url=https://suttiphod1234.github.io/data-kalasin5/"
                    target="_blank" class="share-line-btn">
                    <i class="fa-brands fa-line"></i> ‡∏™‡πà‡∏á‡∏ï‡πà‡∏≠‡∏ó‡∏≤‡∏á Line
                </a>
            </div>
        </form>
    </div>

    <!-- Hidden Native Camera Input -->
    <input type="file" id="cameraInput" accept="image/*" capture="environment" style="display: none;">

    <!-- Success Modal -->
    <div id="successModal" class="modal">
        <div class="modal-content">
            <div class="success-icon">
                <i class="fa-solid fa-circle-check"></i>
            </div>
            <h2>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß</h2>

            <button id="addDataBtn" class="add-data-btn">
                <i class="fa-solid fa-plus"></i> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏°‡πà
            </button>

            <div class="divider">
                <span>‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£</span>
            </div>

            <div class="social-actions container-social">
                <a href="https://www.facebook.com/roengchart/" target="_blank" class="social-btn facebook">
                    <i class="fa-brands fa-facebook"></i> Facebook
                </a>
                <a href="https://lin.ee/kLEd46X" target="_blank" class="social-btn line">
                    <i class="fa-brands fa-line"></i> Line
                </a>
            </div>

            <button id="closeModalBtn" class="close-btn" style="display:none;">‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ</button>
        </div>
    </div>

    <script src="script.js?v=3"></script>
</body>

</html>